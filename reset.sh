#!/bin/bash

if [ "$#" -ne 1 ]; then
    echo "Usage: $0 PRINTER_IP"
    exit 1
fi

PRINTER_IP=$1
COMMUNITY="public"

# Seznam OID
OBJECT_IDS=(
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.118.105.1.0.0"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.115.116.1.0.1"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.124.124.16.0.151.7.66.189.33.48.0.0.78.98.115.106.99.98.122.98"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.124.124.16.0.151.7.66.189.33.49.0.0.78.98.115.106.99.98.122.98"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.124.124.16.0.151.7.66.189.33.47.0.0.78.98.115.106.99.98.122.98"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.124.124.16.0.151.7.66.189.33.52.0.0.78.98.115.106.99.98.122.98"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.124.124.16.0.151.7.66.189.33.53.0.0.78.98.115.106.99.98.122.98"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.124.124.16.0.151.7.66.189.33.54.0.94.78.98.115.106.99.98.122.98"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.124.124.16.0.151.7.66.189.33.50.0.0.78.98.115.106.99.98.122.98"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.124.124.16.0.151.7.66.189.33.51.0.0.78.98.115.106.99.98.122.98"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.124.124.16.0.151.7.66.189.33.47.0.0.78.98.115.106.99.98.122.98"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.124.124.16.0.151.7.66.189.33.55.0.94.78.98.115.106.99.98.122.98"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.124.124.16.0.151.7.66.189.33.28.0.0.78.98.115.106.99.98.122.98"
    "1.3.6.1.4.1.1248.1.2.2.44.1.1.2.1.99.100.1.0.0"
)

# Iterace přes všechny OID
for OID in "${OBJECT_IDS[@]}"; do
    echo "Requesting OID: $OID"
    snmpget -v 1 -c "$COMMUNITY" "$PRINTER_IP" "$OID"
done

echo "Restart your printer!"
